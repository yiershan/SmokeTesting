!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(){this.error=!1,this.max=5,this.timeSpan=500,this.url=[]}}();e.SmokeConfig=o;var r=function(){return function(){this.url=""}}();e.SmokeUrl=r;var i=function(){return function(){this.query="",this.attr=""}}();e.SmokeSelector=i},function(t,e){t.exports=window.jQuery},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(1);!function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(0));var i=function(){function t(){this.now=0,this.index=0,this.c=0,this.s=0,this.e=0,this.config=new o.SmokeConfig}return Object.defineProperty(t.prototype,"len",{get:function(){return this.config.url.length},enumerable:!0,configurable:!0}),t.prototype.start=function(){var t=this;if(this.config.url){this.index=0;var e=this.config.max||5;console.log("任务开始，一共"+this.len+"个地址"),console.log("最大同时访问数量"+e);var n=setInterval(function(){t.now<e&&(t.httpGet(t.config.url[t.index++]),t.now++,t.index===t.len&&window.clearInterval(n))},this.config.timeSpan||100)}},t.prototype.init=function(t){this.config=t},t.prototype.httpGet=function(t){var e=this;console.log("开始访问"+(t.name||t.url));var n=(new Date).getTime();r.get(t.url).then(function(o){var r=((new Date).getTime()-n)/1e3;e.test(t,o,r),e.now--,e.isEnd()}).fail(function(n){e.e++,e.isEnd(),e.notFind(t,n)})},t.prototype.isEnd=function(){this.s+this.e===this.len&&(console.log("执行完毕。"),console.log("链接成功数量："+this.c),console.log("页面正确数量："+this.s),console.log("页面可能不正确数量："+this.e),this.c=this.s=this.e=0)},t.prototype.ok=function(t,e,n){var o=(new Date).toLocaleTimeString()+':   "';o+=t.name||t.url,o+='"页面访问完毕，页面Ok。',e&&(o+="耗时:"+e+"秒。"),n&&(o+="关键字："+n),console.log(o)},t.prototype.notFind=function(t,e){var n=(new Date).toLocaleTimeString()+":   ";n+='"'+t.name||t.url,n+='"没有找到关键元素，可能页面有错误！页面地址为：'+t.url,this.config.error?(n+="页面信息为：",console.group(n),console.error(n),console.dirxml(e),console.groupEnd()):console.log(n)},t.prototype.test=function(t,e,n){this.c++;var o=t.selector;if(o&&o.query&&o.attr){var i="html"===o.attr.toLocaleLowerCase()?r(e).find(o.query).text():r(e).find(o.query).attr(o.attr);i?(this.s++,this.ok(t,n,r.trim(i))):(this.e++,this.notFind(t,e))}else this.ok(t,n)},t}();e.SmokeTest=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r=new o.SmokeConfig;r.url=[{name:"首页",url:"index.html",selector:{query:"spa",attr:"href"}},{url:"index.html",selector:{query:".footer span",attr:"html"}},{url:"index.html",selector:{query:".footer span",attr:"html"}},{url:"index.html",selector:{query:".footer span",attr:"html"}},{url:"index.html",selector:{query:".footer span",attr:"html"}},{url:"index.html",selector:{query:".footer span",attr:"html"}},{url:"index.html",selector:{query:".footer span",attr:"html"}}],r.error=!0;var i=new o.SmokeTest;i.init(r),i.start()}]);